@use './reset.scss';
@use 'vars' as *;
@use 'sass:color';

// Custom scrollbar styles
* {
	scrollbar-width: thin;
	scrollbar-color: $gray-400 $gray-100;
	line-height: 1.5;
}

*::-webkit-scrollbar {
	width: 8px;
	height: 8px;
	background: $gray-100;
}

*::-webkit-scrollbar-thumb {
	background: $gray-400;
	border-radius: 8px;
}

*::-webkit-scrollbar-thumb:hover {
	background: $gray-500;
}

*::-webkit-scrollbar-corner {
	background: $gray-100;
}

.app-container {
	position: relative;
	width: 100vw;
	height: max-content;
	display: flex;
	flex-direction: column;
	align-items: center;

	.app-block {
		position: relative;
		width: 100%;
		max-width: 1200px;
		height: max-content;
	}

	&:has(.app-body) {
		padding: $app-body-padding-y-mobile $app-body-padding-x-mobile;

		@media screen and (min-width: $breakpoint-md) {
			padding: $app-body-padding-y-tablet $app-body-padding-x-tablet;
		}

		@media screen and (min-width: $breakpoint-xl) {
			padding: $app-body-padding-y-desktop $app-body-padding-x-desktop;
		}
	}
}

$link-underline-height: 2px !default;
$link-underline-offset: -0.5ch !default;

.link-underline {
	position: relative;
	cursor: pointer;

	&::after {
		content: '';
		position: absolute;
		left: 0;
		bottom: $link-underline-offset;
		width: 0;
		height: $link-underline-height;
		transition: width 0.2s ease;
	}

	&.link-underline--active,
	&:active {
		&::after {
			width: 100%;
		}
	}

	&:hover::after {
		width: 100%;
	}
}

.animated-tilt-scale {
	transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);

	&:hover {
		transform: scale(1.15) rotate(10deg);
	}

	&:active {
		transform: scale(0.95) rotate(0deg);
	}
}

// Filled CTA button (default)
.cta-button {
	cursor: pointer;
	background-color: $primary-color;
	color: $txt-white;
	padding: $spacing-8 $spacing-24;
	border-radius: 0.25em;
	transition: background 0.2s, transform 0.15s;
	font-weight: $font-weight-semibold;
	text-align: center;

	&:hover {
		background-color: color.adjust($primary-color, $lightness: -5%);
	}

	&:active {
		background-color: color.adjust($primary-color, $lightness: -10%);
		transform: scale(0.97);
	}
}

// Outlined CTA button
.cta-button--outlined {
	cursor: pointer;
	background-color: transparent;
	color: $primary-color;
	border: 2px solid $primary-color;
	padding: $spacing-8 $spacing-24;
	border-radius: 0.25em;
	transition: background 0.2s, color 0.2s, border-color 0.2s, transform 0.15s;
	font-weight: $font-weight-semibold;
	text-align: center;

	&:hover {
		background-color: rgba($primary-color, 0.3);
		color: $txt-white;
		border-color: $primary-color;
	}

	&:active {
		transform: scale(0.97);
	}
}

// SweetAlert custom styles
.swal2-popup {
	font-family: inherit;
	.swal2-title {
		color: $primary-color;
		font-weight: $font-weight-semibold;
	}

	.swal2-html-container {
		color: $txt-secondary;
	}

	.swal2-actions {
		.swal2-confirm {
			@extend .cta-button;
		}
	}

	&:has(.swal2-error) {
		.swal2-title {
			color: $error-color;
		}

		.swal2-actions {
			.swal2-confirm {
				@extend .cta-button;
				background-color: $error-color;
			}
		}
	}
}

// Global styles for text
.info {
	font-size: $font-size-14;
	color: $txt-secondary;
}

// Spin
.spinner {
	display: inline-block;
	width: 2.5rem;
	aspect-ratio: 1;
	border-radius: 50%;
	border: 3px solid rgba($primary-color, 0.15);
	border-top: 3px solid $primary-color;
	animation: spin 0.7s linear infinite;
	box-shadow: 0 2px 8px rgba($primary-color, 0.08);

	// Optional: visually hide text for accessibility
	&::after {
		content: '';
		display: block;
		width: 100%;
		height: 100%;
	}

	// Optional: center an icon inside spinner
	svg {
		position: absolute;
		inset: 0;
		margin: auto;
		width: 1.5rem;
		height: 1.5rem;
		color: $primary-color;
		pointer-events: none;
	}
}

@keyframes spin {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}
